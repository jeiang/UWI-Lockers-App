{% extends "layout.html" %}
{% block title %}Manage Price{% endblock %}
{% block page %}Manage Price {% endblock %}

{{ super() }}

{% block content %}
<div class="row">
      <div class="row">
          <div class="col s12">
            <div class="col s12">
              <form method="POST" action="/rentTypes/search">
                <div class="input-field col s12 m4 offset-m1">
                  <div class = "row">
                    <input type="search" placeholder="Enter search query"/>
                  </div>
                </div>
                <div class="input-field col s2 m2" style="display:inline; padding-left: 0px;" >
                  <button type="submit" style="padding: 9px 21.5px 37px 21.5px" class="purple darken-4 waves-effect waves-light btn-small"><i class="material-icons" style="padding: 5px; font-size: 2rem; color:white; ">search</i></button>
                </div>
              </form>
            </div>
       </div>
        <div class="row" style="height:64vh;">
          <table class="col s12 m10 offset-m1" >
            <tr>
                <th>ID</th>
                <th>Period</th>
                <th>Locker Type</th>
                <th>Price</th>
            </tr>
    
            {% if results %}
            {% for r in results %}
            <tr>
                <td>{{r.id}}</td>
                <td>{{r.period}}</td>
                <td>{{r.type}}</td>
                <td>{{r.price}} </td>
                <td style="width:120px;"><a href="/rentType/{{r.id}}/edit" class="purple darken-4 waves-effect waves-light btn-small"><i class="material-icons left">edit</i>Edit</a></td>
                <td style="width:120px;"><a href="/rentType/{{r.id}}/delete"class="purple darken-4 waves-effect waves-light btn-small"><i class="material-icons left">delete</i>Delete</a></td>
            </tr>
                
            {% endfor %}
            {% else %}
            <tr><td> No Price Models </td></tr>
            {% endif %}
          </table>
        </div>
      <div class="col s1 m1 offset-m11" style="padding: 0.75rem">
        <div class="floating-action-btn">
         <a class="btn-floating btn-large waves-effect waves-light purple modal-trigger" href="#new_rType"><i class="material-icons">add </i></a>
       </div>
     </div>
     
      <div class="modal" id="new_rType" style="max-height: 100%;">
        <div class="modal-content">
          <h6> Add Price Model</h6>
            <form id="new_rentType" class="col s12 m12" method="POST" action="/rentType">
            {{ form.csrf_token }}
            <div class="input-field col s12 m6">
            <p> Period From</p>
            {{form.period_from(size=20,class="validate")}}
            </div>
        
            <div class="input-field col s12 m6">
              <p> Period To</p>
              {{form.period_to(size=20,class="validate")}}
              </div>
          
        
            <div class="input-field col s12 m7">
            <p> Type </p>
            
            <select name="type" style="display:inline;">
              <option value=”” disabled selected>Select a Rent Type</option>
              {% for subfield in form.type %}
                {{subfield}}
              {% endfor %}
            </select>
            </div>
        
            <div class="input-field col s12 m5">
            <p> Price </p>
            {{form.price (size=20,class="validate")}}
            </div>
            <div class="input-field col s12 m8 offset-m2">
                {{form.submit(class="waves-light btn")}}
              </div>
            </form>   
        </div>
        </div>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.modal');
        var instances = M.Modal.init(elems);
        });
      </script>
     

{% endblock %}